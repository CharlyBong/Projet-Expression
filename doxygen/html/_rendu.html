<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>Projet-Expression: Compte-Rendu du projet /-/ Charles Bongiorno</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Projet-Expression
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Charles Bongiorno</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Généré par Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Recherche');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Page&#160;principale</span></a></li>
      <li class="current"><a href="pages.html"><span>Pages&#160;associées</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Fichiers</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Recherche" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_rendu.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>Tout</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Fichiers</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Fonctions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Amis</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Compte-Rendu du projet /-/ Charles Bongiorno </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec2"></a>
Introduction</h1>
<p>Ce projet s'inscrit dans le cadre du module d'ouverture de C++.<br />
 Notre objectif principal était de traiter des expressions mathématiques simple.<br />
 Exemple : ( ( ( 6.5 * 2 ) - 8 ) + 7 )<br />
 <br />
 Ces expressions se limiteront aux opérateurs arithmétiques simple (addition, soustraction, multiplication, division) avec des constantes flottantes et des variables.<br />
 Dans un premier temps, ces expressions seront créées en dur dans le code.<br />
 Pour ensuite être construite à partir d'une chaine de caractères.<br />
 <br />
</p>
<h1><a class="anchor" id="usecase_sec2"></a>
Cas d'utilisation</h1>
<p>Lors du lancement du programme, vous serez invité à entrer une expression algorithmique simple, en notation polonaise inversé.<br />
 Actuellement, il n'y a pas de traitement en cas d'erreur de saisie, merci de vérifier vos entrées.<br />
 Le programme va ensuite afficher l'expression sous différentes formes.<br />
 De l'hypothèse où vous avez entré des variables nommées, il vous sera proposé de leur assigner une valeur.<br />
 La programme affichera alors l'expression, avec un résultat.<br />
</p>
<h1><a class="anchor" id="class_sec2"></a>
Représentation des classes</h1>
<p>Afin de répondre au sujet, nous avons effectué une recherche sur un ensemble de classe pour matérialiser une expression mathématique.<br />
 Une expression est constitué (au minimum) d'un opérateur entre deux nombres.<br />
 Par exemple : <em>( 5 + 7 )</em> <br />
 </p><div class="image">
<img src="images/Diapositive1.png"  alt="Diapositive1"/>
</div>
<p><br />
 <br />
 Ici le + est l'opérateur (encadré en bleu) et les constances des opérandes (encadré en violet).<br />
 <em>(nota: nous utiliserons le même code couleur pour les exemples suivants, et le vert sera utilisé pour les variables)</em><br />
 <br />
 Les opérateurs qui seront utilisés dans ce projet sont addition, soustraction, multiplication, division.<br />
 Nous allons donc avoir une classe mère 'opérateur' composé de deux opérandes (droite et gauche) et des classes qui en hériterons (+ - * /).<br />
 De même, nous aurons une classe générique 'opérande' et des classes filles 'constante' et 'variable'.<br />
 <br />
 <br />
 Maintenant, prenons le cas d'une expression plus longue : <em>( ( 13 - 8 ) + 7 )</em> <br />
 </p><div class="image">
<img src="images/Diapositive2.png"  alt="Diapositive2"/>
</div>
<p><br />
 <br />
 Dans cette exemple, l'opérateur '-' a remplacé l'opérande '5'.<br />
 Nous généralisons donc un opérateur comme une sorte d'opérande.<br />
 Ainsi nous pouvons cascadé les opérateurs les uns sous les autres afin de construire de longue expression.<br />
 </p><div class="image">
<img src="images/Diapositive3.png"  alt="Diapositive3"/>
</div>
<p><br />
 <br />
 <br />
 Nous arrivons donc à la représentation statique des classes :<br />
 </p><div class="image">
<img src="images/DiagramClassStatique.png"  height="500px" alt="DiagramClassStatique.png"/>
</div>
<p> <a href="images/DiagramClassStatique" target="_BLANK"><small>(voir l'image)</small></a><br />
</p>
<h1><a class="anchor" id="detail_sec2"></a>
Détails des classes</h1>
<h2><a class="anchor" id="exp_detail_sec2"></a>
Classe Expression</h2>
<p>Fonction de création d'une expression à partir d'une chaine de caractére Cette classe fait office d'interface pour l'utilisation des expressions. </p>
<h3><a class="anchor" id="pub_exp_detail_sec2"></a>
Fonctions membres publiques</h3>
<p><a class="el" href="class_expression.html" title="Fonction de création d&#39;une expression à partir d&#39;une chaine de caractére Cette classe fait office d&#39;i...">Expression</a> (std::string exp) Création de la classe <a class="el" href="class_expression.html" title="Fonction de création d&#39;une expression à partir d&#39;une chaine de caractére Cette classe fait office d&#39;i...">Expression</a>. Permet d'analyser une expression sous forme d'une chaine de caractère et d'en construire l'opérande associée.<br />
 void afficher_expression ()<br />
 void afficher ()<br />
 void afficherPolonaise ()<br />
 void afficherSimple ()<br />
 void calculer ()<br />
</p>
<h3><a class="anchor" id="pri_exp_detail_sec2"></a>
Fonctions membres privées</h3>
<p><a class="el" href="class_operande.html" title="Opérande d&#39;une opération. ">Operande</a> * newOpaDigOrChar (char *exp) Création d'un <a class="el" href="class_operande.html" title="Opérande d&#39;une opération. ">Operande</a>, <a class="el" href="class_constante.html" title="Valeur définie d&#39;une expression. ">Constante</a> ou <a class="el" href="class_variable.html" title="Valeur inconnue d&#39;une expression La valeur assigné est défini à NULL par défaut. ">Variable</a> suivant si c'est un nombre ou pas. <br />
 <a class="el" href="class_operateur.html" title="Opérateur d&#39;une opération. ">Operateur</a> * newOperateur (char *exp, <a class="el" href="class_operande.html" title="Opérande d&#39;une opération. ">Operande</a> *A, <a class="el" href="class_operande.html" title="Opérande d&#39;une opération. ">Operande</a> *B) Création d'un <a class="el" href="class_operateur.html" title="Opérateur d&#39;une opération. ">Operateur</a>, suivant le caractère de l'opération à réaliser.<br />
</p>
<h3><a class="anchor" id="att_exp_detail_sec2"></a>
Attributs privés</h3>
<p><a class="el" href="class_operateur.html" title="Opérateur d&#39;une opération. ">Operateur</a> * _expression <br />
 <a class="el" href="class_table___variable.html" title="Tableau des variables, association entre une lettre et une variable La gestion des variables se fait ...">Table_Variable</a> * _tableV <br />
</p>
<h2><a class="anchor" id="operande_detail_sec2"></a>
Classe Operande</h2>
<p>Opérande d'une opération. </p>
<h3><a class="anchor" id="pub_operande_detail_sec2"></a>
Fonctions membres publiques</h3>
<p><a class="el" href="class_operande.html" title="Opérande d&#39;une opération. ">Operande</a> ()<br />
 virtual ~Operande ()<br />
 virtual void afficher ()=0 Afficheur par défaut de l'opérande.<br />
 virtual void afficherPolonaise ()=0 Afficheur de l'opérande en version polonaise.<br />
 virtual void afficherSimple ()=0 Afficheur de l'opérande en mode simplifié<br />
 virtual float calculer ()=0 Permet d'éffectuer l'opération contenu.<br />
</p>
<h2><a class="anchor" id="const_detail_sec2"></a>
Classe Constante</h2>
<p>Héritage de <a class="el" href="class_operande.html" title="Opérande d&#39;une opération. ">Operande</a><br />
 Valeur définie d'une expression. </p>
<h3><a class="anchor" id="pub_const_detail_sec2"></a>
Fonctions membres publiques</h3>
<p><a class="el" href="class_constante.html" title="Valeur définie d&#39;une expression. ">Constante</a> (float value)<br />
 <a class="el" href="class_constante.html" title="Valeur définie d&#39;une expression. ">Constante</a> (const <a class="el" href="class_constante.html" title="Valeur définie d&#39;une expression. ">Constante</a> &amp;o)<br />
 ~Constante ()<br />
 void afficherPolonaise () Afficheur de l'opérande en version polonaise.<br />
 void afficherSimple () Afficheur de l'opérande en mode simplifié.<br />
 float calculer () Permet d'éffectuer l'opération contenu.<br />
</p>
<h3><a class="anchor" id="att_const_detail_sec2"></a>
Attributs privés</h3>
<p>float _valeur <br />
</p>
<h2><a class="anchor" id="var_detail_sec2"></a>
Classe Variable</h2>
<p>Héritage de <a class="el" href="class_operande.html" title="Opérande d&#39;une opération. ">Operande</a><br />
 Valeur inconnue d'une expression La valeur assigné est défini à NULL par défaut. </p>
<h3><a class="anchor" id="pub_var_detail_sec2"></a>
Fonctions membres publiques</h3>
<p><a class="el" href="class_variable.html" title="Valeur inconnue d&#39;une expression La valeur assigné est défini à NULL par défaut. ">Variable</a> (std::string name) Constructeur par défaut. <br />
 <a class="el" href="class_variable.html" title="Valeur inconnue d&#39;une expression La valeur assigné est défini à NULL par défaut. ">Variable</a> (std::string name, float value) Constructeur avancé<br />
 ~Variable () Destructeur.<br />
 void definir (float value) Assignation d'une valeur à la variable.<br />
 void afficher () Afficheur par défaut de l'opérande.<br />
 void afficherPolonaise () Afficheur de l'opérande en version polonaise.<br />
 void afficherSimple () Afficheur de l'opérande en mode simplifié<br />
 float calculer () Permet d'éffectuer l'opération contenu.<br />
</p>
<h3><a class="anchor" id="att_var_detail_sec2"></a>
Attributs privés</h3>
<p>std::string _name <br />
 float _value = NULL <br />
</p>
<h2><a class="anchor" id="op_detail_sec2"></a>
Classe Operateur</h2>
<p>Héritage de <a class="el" href="class_operande.html" title="Opérande d&#39;une opération. ">Operande</a><br />
 Opérateur d'une opération. </p>
<h3><a class="anchor" id="pub_op_detail_sec2"></a>
Fonctions membres publiques</h3>
<p><a class="el" href="class_operateur.html" title="Opérateur d&#39;une opération. ">Operateur</a> (void)<br />
 <a class="el" href="class_operateur.html" title="Opérateur d&#39;une opération. ">Operateur</a> (<a class="el" href="class_operande.html" title="Opérande d&#39;une opération. ">Operande</a> *op_gauche, <a class="el" href="class_operande.html" title="Opérande d&#39;une opération. ">Operande</a> *op_droit)<br />
 <a class="el" href="class_operateur.html" title="Opérateur d&#39;une opération. ">Operateur</a> (const <a class="el" href="class_operateur.html" title="Opérateur d&#39;une opération. ">Operateur</a> &amp;o)<br />
 virtual ~Operateur ()<br />
 void afficher_expression () Affiche l'opération et son résultat.<br />
</p>
<h3><a class="anchor" id="att_op_detail_sec2"></a>
Attributs protégés</h3>
<p><a class="el" href="class_operande.html" title="Opérande d&#39;une opération. ">Operande</a> * _op_gauche<br />
 <a class="el" href="class_operande.html" title="Opérande d&#39;une opération. ">Operande</a> * _op_droit<br />
</p>
<h2><a class="anchor" id="tblVar_detail_sec2"></a>
Classe Table_Variable</h2>
<p>Héritage de <a class="el" href="class_singleton.html">Singleton&lt; Table_Variable &gt;</a><br />
 Tableau des variables, association entre une lettre et une variable La gestion des variables se fait à l'aide d'une map qui associe une lettre avec un pointeur vers une variable. </p>
<h3><a class="anchor" id="pub_tblVar_detail_sec2"></a>
Fonctions membres publiques</h3>
<p>void setVariable (std::string name, float value) Assignation d'une valeur à une variable Recherche dans les variables enregistrées (_listof) celle ayant comme nom 'name'. Assignation d'une valeur pour cette variable s'il elle existe, création de la variable dans le cas contraire.<br />
 <a class="el" href="class_variable.html" title="Valeur inconnue d&#39;une expression La valeur assigné est défini à NULL par défaut. ">Variable</a> * getVariable (std::string name) Obtetion d'une variable Test l'existance d'une variable, la crée dans le cas contraire Et la retourne.<br />
 void destroyVariable (std::string name) Destruction d'une variable.<br />
 std::stack&lt; std::string &gt; getListVariableNonDef () Getter d'un la liste des variables n'ayant pas de valeur assigniée Création d'un stack pour le retour (list). Parcours des variables enregistrées (_listof). Ajout dans le stack des variables n'ayant pas de valeur assigniée (item.second-&gt;calculer() == NULL). <br />
</p>
<h3><a class="anchor" id="pri_tblVar_detail_sec2"></a>
Fonctions membres privées</h3>
<p><a class="el" href="class_table___variable.html" title="Tableau des variables, association entre une lettre et une variable La gestion des variables se fait ...">Table_Variable</a> ()<br />
 ~Table_Variable ()<br />
</p>
<h3><a class="anchor" id="att_tblVar_detail_sec2"></a>
Attributs privés</h3>
<p>std::map&lt; std::string, Variable * &gt; _listof<br />
</p>
<h1><a class="anchor" id="construc_sec2"></a>
Construction d'une expression à partir d'une chaine de caractères</h1>
<p>Voici le détail de la construction d'une expression à partir d'une chaine de caractère.<br />
 Dans la version actuelle, ce programme ne sait traiter que les expressions sous forme polonaise inversé.<br />
 Nous utiliserons l'exemple <em>"10 X * 7 +"</em> <br />
 <em>( ( 10 * X ) + 7 )</em><br />
 <br />
 Je parcours ma chaine de gauche à droite, par bloc de trois.<br />
 Je trouverai ainsi, d'après le schéma d'une notation polonaise inversé :<br />
 </p><ul>
<li>
un premier opérande </li>
<li>
un second opérande </li>
<li>
un opérateur </li>
</ul>
<p>Pour chaque opérande l'algorithme se demandera s'il s'agit d'une constante (nombre) ou d'une constante.<br />
 Dans le premier cas, il créera une nouvelle constante, dans le seconde, il utilisera la classe <b><a class="el" href="class_table___variable.html" title="Tableau des variables, association entre une lettre et une variable La gestion des variables se fait ...">Table_Variable</a></b> pour obtenir un pointeur vers une variable.<br />
 Ensuite, pour chaque opérateur, un comparaison du caractère permettra de connaitre l'opération à effectuer.<br />
 <br />
 Enfin, on recommence l'algorithme avec comme 1er opérande, le pointeur vers l'opérateur précédemment créé ainsi que la suite de la chaine de caractère.<br />
 <br />
 Voici une animation résumant l'algorithme:<br />
 </p><div class="image">
<img src="images/algo-construct.gif"  alt="algo-construct"/>
</div>
<p><br />
</p>
<h1><a class="anchor" id="variables_sec2"></a>
Les variables</h1>
<p>Les variables se comportent comme des constances, à l'exception près que s'il n'y a pas de valeur défini, elles bloqueront le processus de calcul d'une expression.<br />
 Lors de leur initialisation, elle ne possède pas de valeur (défini à null dans le code) mais on pourra faire l'assignation à l'aide de la méthode : void definir(float value)<br />
</p>
<h2><a class="anchor" id="tbl_variables_sec2"></a>
Gestion avec la table des variables</h2>
<p>Afin de mutualiser les variables, j'utilise un gestionnaire de variable. <br />
 Ce dernier sera un singleton afin qu'il n'y ai qu'une seule instance de la classe dans le programme.<br />
 Avec ceci, nous pourrons avoir une seule instance par variable même si nous utilisons plusieurs fois le même caractère dans le programme.<br />
 <br />
 L'algorithme fonctionne à l'aide d'une map (sorte de tableau associatif) entre un caractère (string) et une valeur (int).<br />
 Lors que l'on demande l'instance d'une variable avec son nom, le gestionnaire va regarder s'il possédé déjà une variable avec ce nom.<br />
 Si c'est le cas, il retourne l'instance de la variable, sinon il crée une nouvelle instance, retient le pointeur et renvoit l'instance.<br />
</p>
<h1><a class="anchor" id="parc_sec2"></a>
Parcours de l'expression</h1>
<p>Afin d'afficher l'expression ou de calculer son résultat, il nous faut parcourir cette ensemble d'opération. Ce parcours va s'effectuer par récursivité.<br />
 De manière générale, on demande l'information aux autres membres (opérande gauche et droite), on ajoute notre information et on renvoie.<br />
 <br />
 Voici une animation résumant l'algorithme:<br />
 </p><div class="image">
<img src="images/algo-affiche.gif"  alt="algo-affiche"/>
</div>
<p><br />
</p>
<h2><a class="anchor" id="cal_parc_sec2"></a>
Cas de calculer</h2>
<p>Lors de l'appel à la méthode calculer, il y a aura quelques différences de fonctionnement dû aux variables.<br />
 Comme vu précédemment, par récursivité, l'appel à la méthode va se propager dans toute l'expression.<br />
 Pour une constante, la valeur de retour sera celle de la constante.<br />
 Pour un variable, si une valeur est assignée, son comportement sera identique à une constante.<br />
 En revange, s'il n'y a pas de valeur assignée, la valeur null sera renvoié : la valeur est inconnue.<br />
 Enfin, pour un opérateur, cela effectuera l'opération entre les deux opérandes, et retournera le résultat.<br />
 Une specificité existe, s'il reçoit une valeur null d'un des deux opérandes, l'opérateur renverra lui aussi la valeur null, afin d'indiquer que le calcul n'est pas possible.<br />
 De même une division par zéro, retournera la valeur null pour les même raisons.<br />
 <br />
 Voici une animation résumant l'algorithme dans le cas où X a une valeur assignée :<br />
 </p><div class="image">
<img src="images/algo-calculer.gif"  alt="algo-calculer"/>
</div>
<p><br />
 <br />
 Voici une animation résumant l'algorithme dans le cas où X n'a pas de une valeur assignée :<br />
 </p><div class="image">
<img src="images/algo-calculer-null.gif"  alt="algo-calculer-null"/>
</div>
<p><br />
</p>
<h1><a class="anchor" id="end_sec2"></a>
Crédits</h1>
<p>Projet_Expression<br />
 Module d'ouverture C++<br />
 Isen-Toulon<br />
 Par Charles BONGIORNO<br />
</p>
<p><br />
<br />
<br />
<br />
 </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Généré le Mardi 12 Mai 2015 16:50:05 pour Projet-Expression par
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
